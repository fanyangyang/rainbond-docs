---
title: 应用分享与发布
description: 讲解Rainbond应用发布功能说明
Weight: 4006
---


应用的迭代伴随着应用的整个生命周期，为了解决相应的问题，保持应用生态的活性，需要不停的进行分享、发布。Rainbond针对应用的分享与发布，提供了两种不同的方案，[共享库](docs/user-manual/enterprise/appcenter/)和[云应用商店](http://market.goodrain.com/)。


Rainbond定义的应用模型支持各类大型分布式的、数字化业务系统的标准云原生应用模型。应用中可以包含1-N个服务组件和插件，以及服务组件和插件的资源及配置、拓扑关系和部署关系等。

组件作为Rainbond可管理的最小服务单元，多个组件构成Rainbond定义的应用模型，组成一个又一个复杂的业务系统，可以对外提供服务，也可以分享给其他组织进行独立部署。精心制作完成各应用模型，并选择将该应用发布到[共享库](docs/user-manual/enterprise/appcenter/)或[云应用商店](http://market.goodrain.com/)，即可完成一键发布、一键安装的交付过程。

分享后的应用可供团队、公司甚至是云应用商店的其他用户一键安装部署完整的服务体系。分享到不同的范围，可见性也有所不同，具体可见范围如下：

1. 分享到共享库

根据分享时所选择的模板决定应用的可见范围

* 企业应用模板在当前企业下的所有成员可见
    
* 团队应用模板在所属团队下的所有成员可见

> 企业管理员没有团队限制，不同团队的应用模型均可见

2. 分享到云应用商店

好雨公有云应用商店的所有企业及用户可见

> 默认应用发布类型为公有应用，在发布到应用商店时可根据需要进行相应的调整

分享的应用可以支持各种复杂的业务解决方案，发布成功后，其他企业或当前企业的用户可以通过`基于共享库创建组件`的方式选择安装不同来源的应用，进行`一键安装部署`，实现标准化的一键交付部署。
企业也可以通过共享库的同步功能将云应用商店的应用同步到共享库，更快的进行交付。


**共享库** 

共享库作为企业的内部应用市场，对上可对接云应用商店，同步应用商店的应用，对下可以托管用户分享的应用，不同的团队之间的应用模型相互独立互不影响。应用的所有版本都完整的记录在共享库中，可以直接安装使用。


需要注意的是，开源版本中，共享库中的应用并不支持跨数据中心交付，如果有跨数据中心进行交付的需求，欢迎了解[Rainbond企业版](https://www.goodrain.com/)和[Rainbond Cloud版](https://cloud.goodrain.com/enterprise-server/registered)。


**云应用商店**

云应用商店是一个开放的、以应用交付为主的市场平台，绑定了Rainbond之后，可以托管企业分享的应用，直接交付给其他的企业或用户。内部集合了各个组织分享的各类应用，企业也可以将其同步到共享库，进行快速的交付使用。

**两者之间关系**

共享库比云应用商店的优势在于不依赖外部网络环境的要求，有企业和团队的明显划分；

劣势就在于共享库对于向外交付的能力要弱于云应用商店，云应用商店可以在多个企业、多个数据中心进行快速的交付，共享库只能在当前企业进行交付。

两者使用的镜像仓库也不一样，共享库使用该企业安装时所配置的镜像仓库，云应用商店使用的时`image.goodrain.com`，好雨公有云镜像仓库。

两者相互结合后，企业可以直接将应用分享到云应用商店，进行快速的客户交付，也可以将应用分享到共享库，交付其他团队进行使用。完美的解决对内和对外的交付问题。

#### 应用发布流程

Rainbond定义的发布流程拥有完整的生命周期，包含`开始分享`、`修改应用模型`、`提交应用模型`、`确认分享`和`取消分享`四步，每个发布流程相互独立不影响。

###### 确定发布范围

开始分享之前可以选择是分享到共享库或云应用商店，从而修改修改应用模型步骤。

分享到共享库时，根据选择的应用模板确定分享到企业或者当前团队，默认选择第一条应用模板，也可以新建应用模板，确定分享范围（企业或当前团队）。

分享到云应用商店时，可以使用云应用商店已经发布过的应用模板，或者新建应用模板。

##### 应用版本号和版本别名

应用的发布对应着要发布的版本，Rainbond定义的应用模型版本号支持`a.b`,`a.b.c`两种格式，且只允许数字，不允许字母其其他符号。

版本别名允许字母数字及其他字符，可作为快速查询版本的标识。(长度限制32位)

> 对于旧版本的数据仍可展示使用，但旧版本的应用模板可用继续发布使用。

##### 组件模型配置

应用下的所有组件都可以在提交应用模型之前修改其环境变量和伸缩规则。

根据[组件类型](/docs/user-manual/app-service-manage/basic-operation/service-properties/)的不同。组件的伸缩规则的节点数会有默认的配置。比如有状态单实例组件，其最小节点数和最大接点水都只能为1。

最小内存则等于组件当前所使用的内存，可在此基础上向上调整，但不可设定的比当前所使用的内存更小。

##### 插件模型信息

各组件使用的插件均会在此处列出，仅展示，不可修改。

##### 提交应用模型

应用模型以及各组件的配置修改完成后可提交分享任务，发起同步任务，开始准备各组件的镜像资源。

此时会根据是分享到共享库或是云应用市场，将应用下所有组件和插件的镜像推送到不同的镜像仓库中。

##### 确认分享

确认分享是对该次分享任务的一个总结，确定分享任务正常结束，

如果分享到共享库，此时会退出分享流程，并且可以在共享库中查看到该应用模型。

如果分享到云应用商店，此时页面会跳转到云应用商店的应用模型详情页面，可以针对该应用模型进行更多的参数设置，如将设置应用发布类型为私有应用。

##### 取消分享

取消分享也是对该次分享的一个总结，取消后，该次分享记录不会出现在应用发布记录中。




